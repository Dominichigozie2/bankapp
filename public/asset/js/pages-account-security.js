var h=Object.defineProperty;var r=(s,t,e)=>t in s?h(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var i=(s,t,e)=>r(s,typeof t!="symbol"?t+"":t,e);import"../admin.bundle-9LCnK6yO.js";import"../layout-Ce54t42U.js";import"../main-1p2CIAJu.js";class o{constructor(t){i(this,"handleKeyDown",t=>{if(!/^[0-9]{1}$/.test(t.key)&&t.key!=="Backspace"&&t.key!=="Delete"&&t.key!=="Tab"&&!t.metaKey&&t.preventDefault(),t.key==="Delete"||t.key==="Backspace"){const e=this.inputs.indexOf(t.target);e>0&&(this.inputs[e-1].value="",this.inputs[e-1].focus())}});i(this,"handleInput",t=>{const{target:e}=t,n=this.inputs.indexOf(e);e.value&&(n<this.inputs.length-1?this.inputs[n+1].focus():this.submitButton.focus())});i(this,"handleFocus",t=>{t.target.select()});i(this,"handlePaste",t=>{t.preventDefault();const e=t.clipboardData.getData("text");if(!new RegExp(`^[0-9]{${this.inputs.length}}$`).test(e))return;const n=e.split("");this.inputs.forEach((u,a)=>u.value=n[a]),this.submitButton.focus()});this.form=document.getElementById(t),this.inputs=[...this.form.querySelectorAll("input[type=text]")],this.submitButton=this.form.querySelector("button[type=submit]"),this.setupListeners()}setupListeners(){this.inputs.forEach(t=>{t.addEventListener("input",this.handleInput),t.addEventListener("keydown",this.handleKeyDown),t.addEventListener("focus",this.handleFocus),t.addEventListener("paste",this.handlePaste)})}}new o("otp-form1");new o("otp-form2");
