import"../admin.bundle-9LCnK6yO.js";import"../layout-Ce54t42U.js";import"../virtual-select-B8FSWoNa.js";import{u as h}from"../user-1-X5ReqfrQ.js";import{u as l}from"../user-2-Cb_CDfj7.js";import{u as c}from"../user-3-cKscmnau.js";import{u as m}from"../user-4-CDSU48Bo.js";import{u as n}from"../user-5-B2nGwUY6.js";import{u as d,a as u}from"../user-9-CesdsO47.js";import{u as p}from"../user-7-ag73MNKM.js";import{u as f}from"../user-8-C3KjVnOI.js";import{u as g}from"../user-10-DKla81qp.js";import{u as y,a as T}from"../user-12-CSVOJxbn.js";import{u as P}from"../user-13-BCLG3jB2.js";import{u as S}from"../user-14-DT5Zm7w4.js";import"../main-1p2CIAJu.js";const o=[{teacherName:"John Doe",image:h,email:"john@example.com",phone:"1234567890",salary:"$50,000",experience:"10 years",title:"Teacher",date:"2024-07-15",lastSchool:"ABC High School"},{teacherName:"Jane Smith",image:l,email:"jane@example.com",phone:"1234567891",salary:"$55,000",experience:"8 years",title:"Professor",date:"2024-07-14",lastSchool:"XYZ University"},{teacherName:"Michael Johnson",image:c,email:"michael@example.com",phone:"1234567892",salary:"$60,000",experience:"12 years",title:"Assistant",date:"2024-07-13",lastSchool:"LMN College"},{teacherName:"Emily Davis",image:m,email:"davis@example.com",phone:"1234567893",salary:"$52,000",experience:"9 years",title:"Lecturer",date:"2024-07-12",lastSchool:"PQR Institute"},{teacherName:"James Brown",image:n,email:"james@example.com",phone:"1234567894",salary:"$48,000",experience:"7 years",title:"Instructor",date:"2024-07-11",lastSchool:"EFG School"},{teacherName:"Patricia Wilson",image:d,email:"patricia@example.com",phone:"1234567895",salary:"$54,000",experience:"11 years",title:"Senior Lecturer",date:"2024-07-10",lastSchool:"HIJ Academy"},{teacherName:"Robert Martinez",image:p,email:"martinez@example.com",phone:"1234567896",salary:"$58,000",experience:"15 years",title:"Associate Professor",date:"2024-07-09",lastSchool:"KLM University"},{teacherName:"Linda Anderson",image:f,email:"anderson@example.com",phone:"1234567897",salary:"$51,000",experience:"10 years",title:"Lecturer",date:"2024-07-08",lastSchool:"NOP College"},{teacherName:"Thomas Lee",image:u,email:"thomas@example.com",phone:"1234567898",salary:"$57,000",experience:"13 years",title:"Professor",date:"2024-07-07",lastSchool:"QRS Institute"},{teacherName:"Barbara Hernandez",image:g,email:"barbara@example.com",phone:"1234567899",salary:"$53,000",experience:"9 years",title:"Senior Lecturer",date:"2024-07-06",lastSchool:"TUV School"},{teacherName:"Christopher White",image:y,email:"white@example.com",phone:"1234567810",salary:"$49,000",experience:"6 years",title:"Assistant Professor",date:"2024-07-05",lastSchool:"WXY Academy"},{teacherName:"Nancy Harris",image:T,email:"nancy@example.com",phone:"1234567811",salary:"$56,000",experience:"12 years",title:"Associate Professor",date:"2024-07-04",lastSchool:"ZAB University"},{teacherName:"Kevin Clark",image:P,email:"kevin@example.com",phone:"1234567812",salary:"$61,000",experience:"14 years",title:"Professor",date:"2024-07-03",lastSchool:"CDE College"},{teacherName:"Sarah Lewis",image:S,email:"lewis@example.com",phone:"1234567813",salary:"$50,000",experience:"8 years",title:"Instructor",date:"2024-07-02",lastSchool:"FGH School"}];function F(){return{teachers:[],filteredTeachers:[],sortBy:"",deleteTeacher:"",searchTerm:"",sortDirection:"asc",sortClasses:{asc:"↑",desc:"↓"},currentPage:1,itemsPerPage:10,showAddTeacherForm:!1,showEditTeacherForm:!1,errors:{},teacherForm:{teacherID:"",title:"",teacherName:"",email:"",phone:"",salary:"",experience:"",lastSchool:"",date:""},handleModal(e){e==="showAddTeacherForm"?(this.showAddTeacherForm=!0,this.showEditTeacherForm=!1,this.resetForm()):(this.showEditTeacherForm=!0,this.showAddTeacherForm=!1,this.resetForm())},addTeacher(){this.teacherForm.teacherID="PET-"+(2551+this.teachers.length).toString();var e=document.querySelector("#titleSelect").value;this.filteredTeachers.unshift({...this.teacherForm,title:e})},editTeacher(e){this.handleModal("showEditTeacherForm"),this.teacherForm={...this.teachers.find(r=>r.teacherID===e)};var t=document.querySelector("#titleSelect");t==null||t.setValue(this.teacherForm.title)},updateTeacher(){const e=this.teachers.findIndex(r=>r.teacherID===this.teacherForm.teacherID);var t=document.querySelector("#titleSelect").value;this.filteredTeachers[e]={...this.teacherForm,title:t},this.resetForm()},validateForm(){return this.errors={},this.validateField("teacherName",this.teacherForm.teacherName,"Teacher name is required."),this.validateField("email",this.teacherForm.email,"Email is required."),this.validatePhone(),this.validateField("phone",this.teacherForm.phone,"Phone is required."),this.validateField("experience",this.teacherForm.experience,"Experience is required."),this.validateField("lastSchool",this.teacherForm.lastSchool,"Last school is required."),this.validateField("date",this.teacherForm.date,"Date is required."),this.validateField("salary",this.teacherForm.salary,"Salary is required."),this.validateField("title",document.querySelector("#titleSelect").value,"Title is required."),Object.keys(this.errors).length===0},validateField(e,t,r){t?delete this.errors[e]:this.errors[e]=r},validatePhone(){const e=/^[0-9]{10}$/;this.errors.phone=e.test(this.teacherForm.phone)?"":"Phone number must be 10 digits and numeric"},submitForm(){this.validateForm()&&(this.showAddTeacherForm?this.addTeacher():this.updateTeacher(),document.body.classList.toggle("overflow-hidden",!1),this.resetForm(),this.showEditTeacherForm=!1,this.showAddTeacherForm=!1)},resetForm(){this.errors={};var e=document.querySelector("#titleSelect");this.teacherForm={teacherID:"",title:e==null?void 0:e.setValue(""),teacherName:"",email:"",phone:"",salary:"",experience:"",lastSchool:"",date:""}},get totalPages(){return Math.ceil(this.filteredTeachers.length/this.itemsPerPage)},get displayedTeachers(){const e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;return drawerSetting(),this.filteredTeachers.slice(e,t).map(r=>({...r,formattedDate:this.formatDate(r.date),avatarText:this.generateAvatarText(r.teacherName)}))},get showingStart(){return Math.min((this.currentPage-1)*this.itemsPerPage+1,this.filteredTeachers.length)},get showingEnd(){return Math.min(this.currentPage*this.itemsPerPage,this.filteredTeachers.length)},init(){let e=2551;o.forEach((t,r)=>{t.teacherID="PET-"+(e+r).toString(),t.image=t.image||""}),this.teachers=o,this.filterTeachers()},filterTeachers(){this.filteredTeachers=this.teachers;const e=this.searchTerm.toLowerCase();e&&(this.filteredTeachers=this.filteredTeachers.filter(t=>Object.values(t).some(r=>r.toString().toLowerCase().includes(e))))},deleteTeacher(){if(this.deleteTeacher){const e=this.teachers.findIndex(t=>t.email===this.deleteTeacher);e!==-1&&this.teachers.splice(e,1)}},formatDate(e){const t={day:"numeric",month:"short",year:"numeric"};return new Date(e).toLocaleDateString("en-GB",t).replace(/ /g," ").replace(new RegExp("(?<=\\d) (?=\\d{4})"),", ")},generateAvatarText(e){const t=e.split(" ");return t.length>1?t[0][0]+t[1][0]:e[0]},sort(e){e===this.sortBy?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortDirection="asc",this.sortBy=e),this.teachers.sort((t,r)=>{const s=t[e],i=r[e];let a=0;return s>i?a=1:s<i&&(a=-1),this.sortDirection==="desc"?a*-1:a})},prevPage(){this.currentPage>1&&this.currentPage--},nextPage(){this.currentPage<this.totalPages&&this.currentPage++},gotoPage(e){this.currentPage=e},removeImage(e){const t=e.target,r=t.parentNode;t.style.display="none",r.querySelector("span").style.display="flex"}}}document.addEventListener("alpine:init",()=>{Alpine.data("teachersTable",F)});VirtualSelect.init({ele:"#titleSelect",options:[{label:"Teacher",value:"Teacher"},{label:"Professor",value:"Professor"},{label:"Assistant",value:"Assistant"},{label:"Lecturer",value:"Lecturer"},{label:"Instructor",value:"Instructor"},{label:"Senior Lecturer",value:"Senior Lecturer"},{label:"Associate Professor",value:"Associate Professor"},{label:"Assistant Professor",value:"Assistant Professor"}]});
