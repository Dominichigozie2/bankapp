import"../admin.bundle-9LCnK6yO.js";import"../layout-Ce54t42U.js";import"../virtual-select-B8FSWoNa.js";import"../main-1p2CIAJu.js";VirtualSelect.init({ele:"#statusSelect",options:[{label:"Paid",value:"Paid"},{label:"Pending",value:"Pending"},{label:"Unpaid",value:"Unpaid"}]});VirtualSelect.init({ele:"#genderSelect",options:[{label:"Male",value:"Male"},{label:"Female",value:"Female"},{label:"Others",value:"Others"}]});function o(){return{openTab:1,activeClasses:"bg-primary-500 text-primary-50",inactiveClasses:"text-gray-500 hover:text-primary-500",passportImageUrl:"",transcriptImageUrl:"",passportError:"",transcriptError:"",personalForm:{firstName:"",middleName:"",lastName:"",age:"",gender:"",dateOfBirth:"",Phone:"",email:"",nationality:"",address:"",city:"",country:"",pinCode:""},guardianForm:{fatherName:"",motherName:"",otherRelative:"",mobile:""},educationalForm:{schoolName:"",year:"",schoolGPA:"",focus:"",instituteName:"",instituteGPA:"",instituteYear:"",major:"",awards:"",activity:"",role:"",research:""},personalFormErrors:{firstName:"",middleName:"",lastName:"",age:"",gender:"",dateOfBirth:"",Phone:"",email:"",nationality:"",address:"",city:"",country:"",pinCode:""},guardianFormErrors:{fatherName:"",motherName:"",otherRelative:"",mobile:""},educationalFormErrors:{schoolName:"",year:"",schoolGPA:"",focus:"",instituteName:"",instituteGPA:"",instituteYear:"",major:"",awards:"",activity:"",role:"",research:""},validateField(r,e){r==="personalForm"?this.personalFormErrors[e]=this.personalForm[e]?"":`${e.replace(/([A-Z])/g," $1")} is required`:r==="guardianForm"?this.guardianFormErrors[e]=this.guardianForm[e]?"":`${e.replace(/([A-Z])/g," $1")} is required`:r==="educationalForm"&&(this.educationalFormErrors[e]=this.educationalForm[e]?"":`${e.replace(/([A-Z])/g," $1")} is required`)},validatePersonalDetails(){for(let r in this.personalFormErrors)this.validateField("personalForm",r);return!Object.values(this.personalFormErrors).some(r=>r!=="")},validateGuardianDetails(){for(let r in this.guardianFormErrors)this.validateField("guardianForm",r);return!Object.values(this.guardianFormErrors).some(r=>r!=="")},validateEducationalBackground(){for(let r in this.educationalFormErrors)this.validateField("educationalForm",r);return!Object.values(this.educationalFormErrors).some(r=>r!=="")},handleFileChosen(r,e){const a=e.target.files[0];if(a){const t=a.type;if((r==="passportPhoto"?["image/png","image/jpeg"]:["application/pdf","image/png"]).includes(t)){const i=URL.createObjectURL(a);r==="passportPhoto"?(this.passportImageUrl=i,this.passportError=""):(this.transcriptImageUrl=i,this.transcriptError="")}else r==="passportPhoto"?(this.passportError="Invalid file type. Only png or jpeg files are allowed.",this.passportImageUrl=""):(this.transcriptError="Invalid file type. Only pdf or png files are allowed.",this.transcriptImageUrl="")}else r==="passportPhoto"?this.passportError="No file selected.":this.transcriptError="No file selected."},validateAndSave(){this.passportError=this.passportImageUrl?"":"Passport-sized Photograph is required.",this.transcriptError=this.transcriptImageUrl?"":"High School Transcript is required.",!this.passportError&&!this.transcriptError&&(this.openTab=5)},submitAdmissionForm(){const r=this.validatePersonalDetails(),e=this.validateGuardianDetails(),a=this.validateEducationalBackground();r&&e&&a?(this.resetForms(),this.openTab=1):console.log("Form validation failed.")},resetForms(){this.$refs.personalDetailsForm.reset(),this.$refs.guardianDetailsForm.reset(),this.$refs.educationalBackgroundForm.reset(),this.passportImageUrl="",this.transcriptImageUrl="",this.passportError="",this.transcriptError=""}}}function l(r){return{imageUrl:"",passportError:"",transcriptError:"",fileChosen(e){const a=e.target.files[0];if(a){const t=a.type;["image/png","image/jpeg","application/pdf"].includes(t)?(this.imageUrl=URL.createObjectURL(a),this.passportError="",this.transcriptError=""):(this.passportError="Invalid file type. Only pdf, png, or jpeg files are allowed.",this.imageUrl="")}else this.passportError="No file selected."}}}document.addEventListener("alpine:init",()=>{Alpine.data("previewImage",l),Alpine.data("formData",o)});
